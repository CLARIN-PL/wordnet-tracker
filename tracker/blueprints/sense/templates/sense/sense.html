{% extends 'layouts/app.html' %}
{% import 'macros/items.html' as items %}

{% block title %}Sense{% endblock %}

{% block content %}
    <div id="page-wrapper">
        <div class="row">
            <div class="col-sm-12">
                <h3 class="page-header"><i class="fa fa-object-group fa-fw"></i> Sense</h3>
            </div>
        </div>
        <div class="row margin-bottom-15">
            <div class="col-sm-5">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-th-list"></i> Sense Properties
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <tbody>
                                <tr>
                                    <td class="col-sm-4 text-right">Id</td>
                                    <td>{{ sense.id }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Lemma</td>
                                    <td>{{ sense.lemma }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Variant</td>
                                    <td>{{ sense.variant }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Part of speech</td>
                                    <td>{{ sense.pos }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Domain</td>
                                    <td>{{ sense.domain }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Aspect</td>
                                    <td>{{ sense.verb_aspect }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Comment</td>
                                    <td>{{ sense.comment }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Owner</td>
                                    <td>{{ sense.owner }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Status</td>
                                    <td>{{ sense.status }}</td>
                                </tr>
                                <tr>
                                    <td class="text-right">Status Error Comment</td>
                                    <td>{{ sense.error_comment }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-7">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-th-list"></i> Sense History
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-bordered table-condensed table-hover table-striped">
                                <thead>
                                <tr>
                                    <th class="text-center">Date</th>
                                    <th class="text-center">User</th>
                                    <th class="text-center">Operation</th>
                                    <th class="text-center">Lemma</th>
                                    <th class="text-center">Variant</th>
                                    <th class="text-center">Part of speech</th>
                                    <th class="text-center">Domain</th>
                                    <th class="text-center">Comment</th>
                                    <th class="text-center">Status</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for s in sense_history %}
                                    <tr>
                                        <td>
                                            <time class="short-date"
                                                  data-datetime="{{ s[0] }}">{{ s[0] }}</time>
                                        </td>
                                        <td>{{ s[1] }}</td>
                                        <td>{% if s[2]=='created' %}
                                            <span class="label label-success">Created</span>
                                        {% elif s[2]=='removed' %}
                                            <span class="label label-danger">Removed</span>
                                        {% elif s[2]=='modified' %}
                                            <span class="label label-info">Modified</span>
                                        {% endif %}</td>
                                        <td>{{ s[3] }}</td>
                                        <td>{{ s[4] }}</td>
                                        <td>{{ s[5] }}</td>
                                        <td>{{ s[6] }}</td>
                                        <td>{{ s[7] }}</td>
                                        <td>{{ s[8] }}</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-sign-in"></i> Incoming Relations
                    </div>
                    <div class="panel-body">
                        {% if incoming_rel.rowcount == 0 %}
                            <h5 class="text-center">No incoming relations found</h5>
                        {% else %}
                            <div class="table-responsive">
                                <table class="table table-bordered table-condensed table-hover table-striped">
                                    <thead>
                                    <tr>
                                        <th class="text-center">Relation</th>
                                        <th class="text-center">Sense</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for r in incoming_rel %}
                                        <tr>
                                            <td>{{ r[0] }}</td>
                                            <td>
                                                <a href="{{ url_for('sense.sense_by_id', id=r[1]) }}"> {{ r[2] }}</a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="col-sm-7">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> Incoming Relations History
                    </div>
                    <div class="panel-body">
                        {% if not incoming_history %}
                            <h5 class="text-center">No incoming relations history found</h5>
                        {% else %}
                            <div class="table-responsive">
                                <table class="table table-bordered table-condensed table-hover table-striped">
                                    <thead>
                                    <tr>
                                        <th class="text-center">Date</th>
                                        <th class="text-center">User</th>
                                        <th class="text-center">Operation</th>
                                        <th class="text-center">Relation</th>
                                        <th class="text-center">Sense</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for r in incoming_history %}
                                        <tr>
                                            <td>
                                                <time class="short-date"
                                                      data-datetime="{{ r.datetime }}">{{ r.datetime }}</time>
                                            </td>
                                            <td>{{ r.user }}</td>
                                            <td>{% if r.operation=='created' %}
                                                <span class="label label-success">Created</span>
                                            {% elif r.operation=='removed' %}
                                                <span class="label label-danger">Removed</span>
                                            {% endif %}</td>
                                            <td>{{ r.relation_name }}</td>
                                            <td>
                                                <a href="{{ url_for('sense.sense_by_id', id=r.target_id) }}"> {{ r.target_unitstr }}</a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> Outgoing Relations
                    </div>
                    <div class="panel-body">
                        {% if outgoing_rel.rowcount==0 %}
                            <h5 class="text-center">No outgoing relations found</h5>
                        {% else %}
                            <div class="table-responsive">
                                <table class="table table-bordered table-condensed table-hover table-striped">
                                    <thead>
                                    <tr>
                                        <th class="text-center">Relation</th>
                                        <th class="text-center">Sense</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for r in outgoing_rel %}
                                        <tr>
                                            <td>{{ r[0] }}</td>
                                            <td>
                                                <a href="{{ url_for('sense.sense_by_id', id=r[1]) }}"> {{ r[2] }}</a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="col-sm-7">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> Outgoing Relations History
                    </div>
                    <div class="panel-body">
                        {% if not outgoing_history %}
                            <h5 class="text-center">No outgoing relations history found</h5>
                        {% else %}
                            <div class="table-responsive">
                                <table class="table table-bordered table-condensed table-hover table-striped">
                                    <thead>
                                    <tr>
                                        <th class="text-center">Date</th>
                                        <th class="text-center">User</th>
                                        <th class="text-center">Operation</th>
                                        <th class="text-center">Relation</th>
                                        <th class="text-center">Sense</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for r in outgoing_history %}
                                        <tr>
                                            <td>
                                                <time class="short-date"
                                                      data-datetime="{{ r.datetime }}">{{ r.datetime }}</time>
                                            </td>
                                            <td>{{ r.user }}</td>
                                            <td>{% if r.operation=='created' %}
                                                <span class="label label-success">Created</span>
                                            {% elif r.operation=='removed' %}
                                                <span class="label label-danger">Removed</span>
                                            {% endif %}</td>
                                            <td>{{ r.relation_name }}</td>
                                            <td>
                                                <a href="{{ url_for('sense.sense_by_id', id=r.target_id) }}"> {{ r.target_unitstr }}</a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
{% endblock %}